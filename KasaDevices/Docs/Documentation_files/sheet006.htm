<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:x="urn:schemas-microsoft-com:office:excel"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Excel.Sheet>
<meta name=Generator content="Microsoft Excel 15">
<link id=Main-File rel=Main-File href="../Documentation.htm">
<link rel=File-List href=filelist.xml>
<link rel=Stylesheet href=stylesheet.css>
<style>
<!--table
	{mso-displayed-decimal-separator:"\.";
	mso-displayed-thousand-separator:"\,";}
@page
	{margin:.1in .1in .1in .1in;
	mso-header-margin:.3in;
	mso-footer-margin:.3in;
	mso-horizontal-page-align:center;
	mso-vertical-page-align:center;}
-->
</style>
<![if !supportTabStrip]><script language="JavaScript">
<!--
function fnUpdateTabs()
 {
  if (parent.window.g_iIEVer>=4) {
   if (parent.document.readyState=="complete"
    && parent.frames['frTabs'].document.readyState=="complete")
   parent.fnSetActiveSheet(5);
  else
   window.setTimeout("fnUpdateTabs();",150);
 }
}

if (window.name!="frSheet")
 window.location.replace("../Documentation.htm");
else
 fnUpdateTabs();
//-->
</script>
<![endif]>
</head>

<body link="#0563C1" vlink="#954F72" class=xl66>

<table border=0 cellpadding=0 cellspacing=0 width=910 style='border-collapse:
 collapse;table-layout:fixed;width:682pt'>
 <col class=xl66 width=27 style='mso-width-source:userset;mso-width-alt:960;
 width:20pt'>
 <col class=xl67 width=89 style='mso-width-source:userset;mso-width-alt:3136;
 width:67pt'>
 <col class=xl67 width=98 span=3 style='mso-width-source:userset;mso-width-alt:
 3456;width:73pt'>
 <col class=xl67 width=74 span=2 style='mso-width-source:userset;mso-width-alt:
 2624;width:56pt'>
 <col class=xl66 width=352 style='mso-width-source:userset;mso-width-alt:12448;
 width:264pt'>
 <col class=xl66 width=99 style='mso-width-source:userset;mso-width-alt:3488;
 width:74pt'>
 <col class=xl66 width=168 style='mso-width-source:userset;mso-width-alt:5952;
 width:126pt'>
 <tr class=xl66 height=28 style='height:21.1pt'>
  <td height=28 class=xl66 width=27 style='height:21.1pt;width:20pt'>&nbsp;</td>
  <td colspan=7 class=xl122 width=883 style='width:662pt'><a name="Print_Area">Troubleshooting</a></td>
 </tr>
 <tr class=xl65 height=21 style='height:15.65pt'>
  <td height=21 class=xl65 style='height:15.65pt'>&nbsp;</td>
  <td colspan=7 class=xl140 style='border-right:.5pt solid black'>Installation
  Issues</td>
 </tr>
 <tr class=xl65 height=203 style='mso-height-source:userset;height:152.35pt'>
  <td height=203 class=xl65 style='height:152.35pt'>&nbsp;</td>
  <td class=xl76 style='border-top:none'>1</td>
  <td colspan=6 class=xl104 width=794 style='border-left:none;width:595pt'>Devices
  not on add devices list.<br>
    A.<span style='mso-spacerun:yes'>  </span>Use the Kasa Phone app and verify
  the device is operational (on/off cycle).<span style='mso-spacerun:yes'> 
  </span>If OK, continue.<br>
    B.<span style='mso-spacerun:yes'>  </span>Verify your network configuration
  is a single segment and does not have security lockouts.<br>
    <span style='mso-spacerun:yes'>      </span>If it does, modify the
  &quot;Cloud, Lan and Device Control Setup&quot; as appropriate.<br>
    C.<span style='mso-spacerun:yes'>  </span>Press &quot;Next&quot; and try
  rerunning installation.<span style='mso-spacerun:yes'>  </span>If not
  successful, continue<br>
    D.<span style='mso-spacerun:yes'>  </span>Press &quot;Next&quot; and open
  &quot;Cloud, Lan, and Device Control Setup&quot;<br>
    <span style='mso-spacerun:yes'>     </span>1)<span
  style='mso-spacerun:yes'>  </span>Go to &quot;Kasa Login and Token
  Update&quot; and enter username and password<br>
    <span style='mso-spacerun:yes'>     </span>2)<span
  style='mso-spacerun:yes'>  </span>Select done.<span
  style='mso-spacerun:yes'>  </span>Then refresh this page and make sure the
  token is on the page.<br>
    <span style='mso-spacerun:yes'>     </span>3)<span
  style='mso-spacerun:yes'>  </span>Run &quot;Install Kasa Devices&quot;.</td>
 </tr>
 <tr class=xl65 height=71 style='mso-height-source:userset;height:53.0pt'>
  <td height=71 class=xl65 style='height:53.0pt'>&nbsp;</td>
  <td class=xl76 style='border-top:none'>2</td>
  <td colspan=6 class=xl104 width=794 style='border-left:none;width:595pt'>A
  selected device does not install.<span style='mso-spacerun:yes'> 
  </span><br>
    A.<span style='mso-spacerun:yes'>  </span>Make sure the appropriate Drivers
  (as listed on the Add Devices Page) are installed into Hubitat.<br>
    B.<span style='mso-spacerun:yes'>  </span>Retry the installation.</td>
 </tr>
 <tr class=xl65 height=21 style='height:15.65pt'>
  <td height=21 class=xl65 style='height:15.65pt'>&nbsp;</td>
  <td colspan=7 class=xl140 style='border-right:.5pt solid black'>Operations
  Issue</td>
 </tr>
 <tr class=xl65 height=46 style='mso-height-source:userset;height:34.85pt'>
  <td height=46 class=xl65 style='height:34.85pt'>&nbsp;</td>
  <td class=xl76 style='border-top:none'>1</td>
  <td colspan=6 class=xl104 width=794 style='border-left:none;width:595pt'>Try
  the command again.<span style='mso-spacerun:yes'>  </span>Although comms are
  good, this is a wifi or web interface and errors sometimes occur.<span
  style='mso-spacerun:yes'>  </span>If the error is repetitive, continue.</td>
 </tr>
 <tr class=xl65 height=30 style='mso-height-source:userset;height:22.6pt'>
  <td height=30 class=xl65 style='height:22.6pt'>&nbsp;</td>
  <td class=xl76 style='border-top:none'>2</td>
  <td colspan=6 class=xl151 style='border-left:none'>Open the Kasa Phone App
  and verify the device is operational via on/off cycle.<span
  style='mso-spacerun:yes'>  </span>If OK, continue.</td>
 </tr>
 <tr class=xl65 height=55 style='mso-height-source:userset;height:41.45pt'>
  <td height=55 class=xl65 style='height:41.45pt'>&nbsp;</td>
  <td class=xl76 style='border-top:none'>3</td>
  <td colspan=6 class=xl104 width=794 style='border-left:none;width:595pt'>Open
  the Hubitat Kasa Integration application and reset the device database (which
  will check the IP address and update as required.</td>
 </tr>
 <tr class=xl65 height=178 style='mso-height-source:userset;height:133.3pt'>
  <td height=178 class=xl65 style='height:133.3pt'>&nbsp;</td>
  <td class=xl76 style='border-top:none'>4</td>
  <td colspan=6 class=xl101 width=794 style='border-right:.5pt solid black;
  border-left:none;width:595pt'>Using the device IP, run the Application
  Utility &quot;IP Comms Test Tool&quot;.<br>
    A. Ping test should show a Success of 100%.<span style='mso-spacerun:yes'> 
  </span>Otherwise, there may be issues with your Network configuration (device
  location, faulty device in the Hubitat - device chain).<br>
    B.<span style='mso-spacerun:yes'>  </span>If Ping is 100%, the Device
  Command Test should be PASS.<span style='mso-spacerun:yes'>  </span>If not,
  the possibilities are:<br>
    <span style='mso-spacerun:yes'>     </span>1) The device is faulty (try
  running the device through the Kasa Integration App).<br>
    <span style='mso-spacerun:yes'>     </span>2) The device is on the list
  that TP-Link has protected from LAN control.<span style='mso-spacerun:yes'> 
  </span>In that case, you must:<br>
    <span style='mso-spacerun:yes'>          </span>a) App: obtain a Kasa Token
  and set &quot;Interface to Kasa Clloud for device control&quot; to
  true.<br>
    <span style='mso-spacerun:yes'>          </span>b) Device: Bind the device
  to the Kasa Cloud and set &quot;Use Kasa Cloud for device control&quot; to
  true.</td>
 </tr>
 <tr class=xl65 height=114 style='mso-height-source:userset;height:85.6pt'>
  <td height=114 class=xl65 style='height:85.6pt'>&nbsp;</td>
  <td class=xl76 style='border-top:none'>5</td>
  <td colspan=6 class=xl104 width=794 style='border-left:none;width:595pt'>Collect
  error data.<br>
    A.<span style='mso-spacerun:yes'>  </span>Go to the devices previous logs
  and look for errors and warnings.<br>
    B.<span style='mso-spacerun:yes'>  </span>Copy these and provide those
  lines along with your Device Type/Model and a description of what is
  happening.<br>
    C.<span style='mso-spacerun:yes'>  </span>Using a Private Message, provide
  the above to @davegut.</td>
 </tr>
 <tr height=24 style='height:18.35pt'>
  <td height=24 class=xl66 style='height:18.35pt'>&nbsp;</td>
  <td colspan=7 class=xl140 style='border-right:.5pt solid black'>Network
  Simplification</td>
 </tr>
 <tr class=xl65 height=46 style='mso-height-source:userset;height:34.85pt'>
  <td height=46 class=xl65 style='height:34.85pt'>&nbsp;</td>
  <td colspan=7 class=xl101 width=883 style='border-right:.5pt solid black;
  width:662pt'>Some networks have communications issues due to the complexities
  of the Network.<span style='mso-spacerun:yes'>  </span>If normal
  troubleshooting fails, the idea is to simplify your network for the device
  that is failing,</td>
 </tr>
 <tr class=xl65 height=21 style='height:15.65pt'>
  <td height=21 class=xl65 style='height:15.65pt'>&nbsp;</td>
  <td class=xl76 style='border-top:none'>1</td>
  <td colspan=6 class=xl151 style='border-left:none'>Insure the Hubitat Hub is
  on the same segment as the problematic device.</td>
 </tr>
 <tr class=xl65 height=21 style='height:15.65pt'>
  <td height=21 class=xl65 style='height:15.65pt'>&nbsp;</td>
  <td class=xl76 style='border-top:none'>2</td>
  <td colspan=6 class=xl104 width=794 style='border-left:none;width:595pt'>Remove
  any range extenders or gateway-external switches (in the devices are faulty).</td>
 </tr>
 <tr class=xl65 height=21 style='height:15.65pt'>
  <td height=21 class=xl65 style='height:15.65pt'>&nbsp;</td>
  <td class=xl76 style='border-top:none'>3</td>
  <td colspan=6 class=xl104 width=794 style='border-left:none;width:595pt'>Direct
  wire the hub to the gateway (if possible).<span style='mso-spacerun:yes'> 
  </span>In case the wifi dongle is problematic.</td>
 </tr>
 <![if supportMisalignedColumns]>
 <tr height=0 style='display:none'>
  <td width=27 style='width:20pt'></td>
  <td width=89 style='width:67pt'></td>
  <td width=98 style='width:73pt'></td>
  <td width=98 style='width:73pt'></td>
  <td width=98 style='width:73pt'></td>
  <td width=74 style='width:56pt'></td>
  <td width=74 style='width:56pt'></td>
  <td width=352 style='width:264pt'></td>
 </tr>
 <![endif]>
</table>

</body>

</html>
